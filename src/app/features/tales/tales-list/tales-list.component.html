<!--
  ~  Copyright 2025 Elias Taufer
  ~
  ~   Licensed under the Apache License, Version 2.0 (the "License");
  ~   you may not use this file except in compliance with the License.
  ~   You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~   Unless required by applicable law or agreed to in writing, software
  ~   distributed under the License is distributed on an "AS IS" BASIS,
  ~   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~   See the License for the specific language governing permissions and
  ~   limitations under the License.
  -->

<div class="vstack" style="gap:14px;">
  <div class="hstack" style="justify-content:space-between; align-items:center;">
    <h2 style="margin:0;">{{ 'NAV.TALES' | t }}</h2>
    <input class="input" style="max-width:320px;" #q placeholder="Search" (input)="search(q.value)" />
  </div>

  <div class="grid">
    @for (t of tales(); track t.id) {
      <tt-tale-tile
        [tale]="t"
        [myStatus]="statusOf(t.id) || null"
        [showStatusControls]="isLoggedIn()"
        (statusChange)="onStatusChange(t.id, $event || '')"
        (clear)="clear(t.id)">
      </tt-tale-tile>
    } @empty {
      <div class="muted">{{ 'TALES.NO_TALES' | t }}</div>
    }
  </div>
</div>
